{% extends 'frontendapp/base.html' %}

{% load static %}


{% block title %}
    updatehotel
{% endblock title %}


{% block heading %}
    Update Hotel
{% endblock heading %}
    

{% block maincontent %}
   
    <div class="container">
    <form
        action="{% url 'updatehotel' %}"
        method="post"
        class="mt-5"
        enctype="multipart/form-data"
    >
        {% csrf_token %}
        <input type="hidden" name="hotelId" value="{{ hotel.hotelId }}" />
        <div class="row mt-3">
        <div class="form-group col-md-6">
            <label for="hotelName">Hotel Name</label>
            <input
            class="form-control"
            type="text"
            id="hotelName"
            name="hotelName"
            value="{{ hotel.hotelName }}"
            required
            />
        </div>
        <div class="form-group col-md-6">
            <label for="location">Hotel Location</label>
            <input
            type="text"
            class="form-control"
            id="location"
            name="location"
            value="{{ hotel.location }}"
            required
            />
        </div>
        </div>
        <div class="row">
        <div class="form-group col-md-6 mt-3">
            <label for="hotelType">Hotel Type</label>
            <input
            type="text"
            class="form-control"
            id="hotelType"
            name="hotelType"
            value="{{ hotel.hotelType }}"
            required
            />
        </div>
        <div class="form-group col-md-6 mt-3">
            <label for="rating">Hotel Rating</label>
            <input
            type="text"
            class="form-control"
            id="rating"
            name="rating"
            value="{{ hotel.rating }}"
            required
            />
        </div>
        </div>
        <div class="form-group mt-3">
        <label for="address">Hotel Address</label>
        <input
            type="text"
            class="form-control"
            id="address"
            name="address"
            value="{{ hotel.address }}"
            required
        />
        </div>
        <div class="form-group col-md-4 mt-3">
        <label for="contact">Hotel Contact No.</label>
        <input
            type="text"
            class="form-control"
            id="contact"
            name="contact"
            value="{{ hotel.contact }}"
            required
        />
        </div>
        <div class="mb-3 mt-3">
        <label for="hotel_image" class="form-label">Upload Hotel Image</label>
        <input
            class="form-control"
            type="file"
            id="hotel_image"
            name="hotel_image"
        />
        </div>

        <button type="Submit" class="btn btn-dark mt-3 center">Update</button>
    </form>
    </div>

{% endblock maincontent %}

{% block script %} 
    {% comment %}
        <script>
        // Function to show the alert dialog
        function showAlert(message) {
            alert(message);
            // Redirect to the hotel list page after the alert is closed
            window.location.href = "{% url 'showhotel' %}";
        }

        // Call the function when the page loads if there's a success message
        window.onload = function () {
            const successMessage = "{{ success_message|default:'' }}";
            if (successMessage) {
            showAlert(successMessage);
            }
        };
        </script>
    {% endcomment %} 
{% endblock script %}
